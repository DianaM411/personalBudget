{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\diana\\\\OneDrive\\\\Desktop\\\\expense-tracker_fullstack-master\\\\frontend\\\\src\\\\context\\\\globalContext.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport React, { useContext, useState } from \"react\";\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst BASE_URL = \"http://localhost:5000/api/v1/\";\nconst GlobalContext = /*#__PURE__*/React.createContext();\nexport const GlobalProvider = _ref => {\n  _s();\n\n  let {\n    children\n  } = _ref;\n  const [incomes, setIncomes] = useState([]);\n  const [expenses, setExpenses] = useState([]);\n  const [error, setError] = useState(null); //calculate incomes\n\n  const addIncome = async income => {\n    const response = await axios.post(`${BASE_URL}add-income`, income).catch(err => {\n      setError(err.response.data.message);\n    });\n    getIncomes();\n  };\n\n  const getIncomes = async () => {\n    const response = await axios.get(`${BASE_URL}get-incomes`);\n    setIncomes(response.data);\n    console.log(response.data);\n  };\n\n  const deleteIncome = async id => {\n    const res = await axios.delete(`${BASE_URL}delete-income/${id}`);\n    getIncomes();\n  };\n\n  const totalIncome = () => {\n    let totalIncome = 0;\n    incomes.forEach(income => {\n      totalIncome = totalIncome + income.amount;\n    });\n    return totalIncome;\n  }; //calculate incomes\n\n\n  const addExpense = async income => {\n    const response = await axios.post(`${BASE_URL}add-expense`, income).catch(err => {\n      setError(err.response.data.message);\n    });\n    getExpenses();\n  };\n\n  const getExpenses = async () => {\n    const response = await axios.get(`${BASE_URL}get-expenses`);\n    setExpenses(response.data);\n    console.log(response.data);\n  };\n\n  const deleteExpense = async id => {\n    const res = await axios.delete(`${BASE_URL}delete-expense/${id}`);\n    getExpenses();\n  };\n\n  const totalExpenses = () => {\n    let totalIncome = 0;\n    expenses.forEach(income => {\n      totalIncome = totalIncome + income.amount;\n    });\n    return totalIncome;\n  };\n\n  const totalBalance = () => {\n    return totalIncome() - totalExpenses();\n  };\n\n  const transactionHistory = () => {\n    const history = [...incomes, ...expenses];\n    history.sort((a, b) => {\n      return new Date(b.createdAt) - new Date(a.createdAt);\n    });\n    return history.slice(0, 3);\n  };\n\n  return /*#__PURE__*/_jsxDEV(GlobalContext.Provider, {\n    value: {\n      addIncome,\n      getIncomes,\n      incomes,\n      deleteIncome,\n      expenses,\n      totalIncome,\n      addExpense,\n      getExpenses,\n      deleteExpense,\n      totalExpenses,\n      totalBalance,\n      transactionHistory,\n      error,\n      setError\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 91,\n    columnNumber: 9\n  }, this);\n};\n\n_s(GlobalProvider, \"tEtYkz3TSUkMCKA3FBENwBvPpJ4=\");\n\n_c = GlobalProvider;\nexport const useGlobalContext = () => {\n  _s2();\n\n  return useContext(GlobalContext);\n};\n\n_s2(useGlobalContext, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\n\nvar _c;\n\n$RefreshReg$(_c, \"GlobalProvider\");","map":{"version":3,"sources":["C:/Users/diana/OneDrive/Desktop/expense-tracker_fullstack-master/frontend/src/context/globalContext.js"],"names":["React","useContext","useState","axios","BASE_URL","GlobalContext","createContext","GlobalProvider","children","incomes","setIncomes","expenses","setExpenses","error","setError","addIncome","income","response","post","catch","err","data","message","getIncomes","get","console","log","deleteIncome","id","res","delete","totalIncome","forEach","amount","addExpense","getExpenses","deleteExpense","totalExpenses","totalBalance","transactionHistory","history","sort","a","b","Date","createdAt","slice","useGlobalContext"],"mappings":"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","sourcesContent":["import React, { useContext, useState } from \"react\"\nimport axios from 'axios'\n\n\nconst BASE_URL = \"http://localhost:5000/api/v1/\";\n\n\nconst GlobalContext = React.createContext()\n\nexport const GlobalProvider = ({children}) => {\n\n    const [incomes, setIncomes] = useState([])\n    const [expenses, setExpenses] = useState([])\n    const [error, setError] = useState(null)\n\n    //calculate incomes\n    const addIncome = async (income) => {\n        const response = await axios.post(`${BASE_URL}add-income`, income)\n            .catch((err) =>{\n                setError(err.response.data.message)\n            })\n        getIncomes()\n    }\n\n    const getIncomes = async () => {\n        const response = await axios.get(`${BASE_URL}get-incomes`)\n        setIncomes(response.data)\n        console.log(response.data)\n    }\n\n    const deleteIncome = async (id) => {\n        const res  = await axios.delete(`${BASE_URL}delete-income/${id}`)\n        getIncomes()\n    }\n\n    const totalIncome = () => {\n        let totalIncome = 0;\n        incomes.forEach((income) =>{\n            totalIncome = totalIncome + income.amount\n        })\n\n        return totalIncome;\n    }\n\n\n    //calculate incomes\n    const addExpense = async (income) => {\n        const response = await axios.post(`${BASE_URL}add-expense`, income)\n            .catch((err) =>{\n                setError(err.response.data.message)\n            })\n        getExpenses()\n    }\n\n    const getExpenses = async () => {\n        const response = await axios.get(`${BASE_URL}get-expenses`)\n        setExpenses(response.data)\n        console.log(response.data)\n    }\n\n    const deleteExpense = async (id) => {\n        const res  = await axios.delete(`${BASE_URL}delete-expense/${id}`)\n        getExpenses()\n    }\n\n    const totalExpenses = () => {\n        let totalIncome = 0;\n        expenses.forEach((income) =>{\n            totalIncome = totalIncome + income.amount\n        })\n\n        return totalIncome;\n    }\n\n\n    const totalBalance = () => {\n        return totalIncome() - totalExpenses()\n    }\n\n    const transactionHistory = () => {\n        const history = [...incomes, ...expenses]\n        history.sort((a, b) => {\n            return new Date(b.createdAt) - new Date(a.createdAt)\n        })\n\n        return history.slice(0, 3)\n    }\n\n\n    return (\n        <GlobalContext.Provider value={{\n            addIncome,\n            getIncomes,\n            incomes,\n            deleteIncome,\n            expenses,\n            totalIncome,\n            addExpense,\n            getExpenses,\n            deleteExpense,\n            totalExpenses,\n            totalBalance,\n            transactionHistory,\n            error,\n            setError\n        }}>\n            {children}\n        </GlobalContext.Provider>\n    )\n}\n\nexport const useGlobalContext = () =>{\n    return useContext(GlobalContext)\n}"]},"metadata":{},"sourceType":"module"}